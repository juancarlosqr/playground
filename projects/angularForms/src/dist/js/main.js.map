{"version":3,"sources":["directiveFormatMoney.js","main.js","serviceFileModel.js","serviceSaveFile.js","extensions/date.format.js","extensions/toNumber.js"],"names":["formatMoney","$filter","require","link","scope","elem","attrs","ctrl","$parsers","unshift","value","maskMoney","$formatters","angular","module","directive","$inject","Config","$compileProvider","debugInfoEnabled","MainController","$scope","fileModel","saveFile","init","data","jobs","source","offices","model","wiredFormSubmit","errorBoxVisible","errorMessages","wiredForm","$invalid","$error","required","push","pattern","maxlength","date","valid","toPdf","getErrorMessages","requestDateOpen","authOneDateOpen","authTwoDateOpen","addExtraInfoLine","GREY_DATA","config","controller","factory","file","name","logo","datauri","datauritype","url","width","height","footnotes","below","trade","usd","rate","tradeId","supply","headlines","prepared","debit","bank","dateOptions","formatInput","formatFile","showWeeks","extrainfolabels","office","gl","job","workCode","amount","invoice","po","usWired","title","requestId","label","requestDate","string","signature","telephone","reasonforPayment","help","max","debitBank","debitCompany","debitAccount","currency","amountWords","accountName","accountNumber","bankName","address","cityAndCountry","aba","swiftCode","iban","otherInformation","authOne","authTwo","extraInfo","setFinalValues","today","Date","format","replace","toLowerCase","validateAmounts","amountSum","forEach","info","toNumber","now","values","pdf","page","font","fullWidth","fullHeight","axisXMin","axisXData","axisY","axisYInitial","axisYDefaultHeight","axisYNewPage","axisYHeight","newLine","axisYMax","addPage","drawLine","offsetFix","setDrawColor","line","axisXMax","dataLine","text","setFontSize","setFontStyle","splitTextToSize","footLine","contentWidth","headLine","drawExtraInfo","labels","drawSignatures","drawFooter","foot","jsPDF","setFont","addImage","save","dateFormat","token","timezone","timezoneClip","pad","val","len","String","length","mask","utc","dF","arguments","Object","prototype","toString","call","test","undefined","isNaN","SyntaxError","masks","slice","_","d","D","m","y","H","M","s","L","o","getTimezoneOffset","flags","dd","ddd","i18n","dayNames","dddd","mm","mmm","monthNames","mmmm","yy","yyyy","h","hh","HH","MM","ss","l","Math","round","t","tt","T","TT","Z","match","pop","floor","abs","S","$0","default","shortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","isoDate","isoTime","isoDateTime","isoUtcDateTime","this","parseFloat"],"mappings":"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","file":"main.js","sourcesContent":["/*global angular*/\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('greyForms.directiveFormatMoney', []).directive('formatMoney', formatMoney);\r\n\r\n  formatMoney.$inject = ['$filter'];\r\n\r\n  function formatMoney($filter) {\r\n    return {\r\n      require: '?ngModel',\r\n      link: function (scope, elem, attrs, ctrl) {\r\n        if (!ctrl) {\r\n          return;\r\n        }\r\n        ctrl.$parsers.unshift(function (value) {\r\n          elem.maskMoney();\r\n          return elem[0].value;\r\n        });\r\n        ctrl.$formatters.unshift(function (value) {\r\n          elem.maskMoney();\r\n          return elem[0].value;\r\n        });\r\n      }\r\n    };\r\n  }\r\n}());","/*global angular,GREY_DATA*/\r\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('greyForms', [\r\n      'ngMessages',\r\n      'ui.bootstrap',\r\n      'greyForms.controllerMain',\r\n      'greyForms.serviceFileModel',\r\n      'greyForms.serviceSaveFile',\r\n      'greyForms.directiveFormatMoney'\r\n    ])\r\n    .config(Config);\r\n\r\n  angular.module('greyForms.controllerMain', []).controller('MainController', MainController);\r\n\r\n  Config.$inject = ['$compileProvider'];\r\n  MainController.$inject = ['$scope', 'fileModel', 'saveFile'];\r\n\r\n  function Config($compileProvider) {\r\n    $compileProvider.debugInfoEnabled(false);\r\n  }\r\n\r\n  function MainController($scope, fileModel, saveFile) {\r\n    $scope.model = null;\r\n    $scope.requestDateOpen = false;\r\n    $scope.authOneDateOpen = false;\r\n    $scope.authTwoDateOpen = false;\r\n    $scope.errorBoxVisible = false;\r\n    $scope.errorMessages = [];\r\n    $scope.wiredFormSubmit = wiredFormSubmit;\r\n    $scope.addExtraInfoLine = fileModel.addExtraInfoLine;\r\n    init(GREY_DATA);\r\n\r\n    function init(data) {\r\n      // offices and jobs are data returned from the server\r\n      // It is use in the typeahead (autocomplete) fields\r\n      $scope.jobs = data.source.jobs;\r\n      $scope.offices = data.source.offices;\r\n      $scope.model = fileModel.init(data);\r\n    }\r\n\r\n    function wiredFormSubmit() {\r\n      $scope.errorBoxVisible = false;\r\n      $scope.errorMessages = [];\r\n      // The use of 'else if' is to avoid producing ternary expressions\r\n      // that were causing errors with the gulp uglify task\r\n      if ($scope.wiredForm.$invalid) {\r\n        $scope.errorBoxVisible = true;\r\n        if ($scope.wiredForm.$error.required) {\r\n          $scope.errorMessages.push('One or more required fields are missing');\r\n        }\r\n        if ($scope.wiredForm.$error.pattern) {\r\n          $scope.errorMessages.push('One or more fields do not match its pattern');\r\n        }\r\n        if ($scope.wiredForm.$error.maxlength) {\r\n          $scope.errorMessages.push('One or more fields are too long');\r\n        }\r\n        if ($scope.wiredForm.$error.date) {\r\n          $scope.errorMessages.push('One or more fields are not valid dates');\r\n        }\r\n      } else if (!fileModel.valid()) {\r\n        $scope.errorBoxVisible = true;\r\n        $scope.errorMessages = fileModel.getErrorMessages();\r\n      } else {\r\n        saveFile.toPdf($scope.model);\r\n      }\r\n    }\r\n  }\r\n}());","/*global angular*/\r\n(function () {\r\n  'use strict';\r\n\r\n  /* The model contains all the information, needed both in the web and the pdf\r\n  in this way the values and also the labels are in one place */\r\n  angular.module('greyForms.serviceFileModel', [])\r\n    .factory('fileModel', function () {\r\n      var model = {\r\n        file: {\r\n          name: ''\r\n        },\r\n        logo: {\r\n          datauri: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAeCAYAAADaW7vzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUExMzY5MUY4REMzMTFFM0IzRURCMjI5NDAxOEQxRDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUExMzY5MjA4REMzMTFFM0IzRURCMjI5NDAxOEQxRDYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxQTEzNjkxRDhEQzMxMUUzQjNFREIyMjk0MDE4RDFENiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxQTEzNjkxRThEQzMxMUUzQjNFREIyMjk0MDE4RDFENiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Po2Qk1AAAApVSURBVHja7FoNUFTX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',\r\n          datauritype: 'PNG',\r\n          url: 'logo-grey.png',\r\n          width: 67,\r\n          height: 20\r\n        },\r\n        footnotes: {\r\n          below: 'Do not write below this line. For accounting use only',\r\n          trade: 'Trade information (To be completed by Treasury Department)',\r\n          usd: 'USD Amount',\r\n          rate: 'Rate',\r\n          date: 'Value Date',\r\n          tradeId: 'Trade Confirmation #',\r\n          supply: '*Please supply all original supporting documentation related to this wire request. Insufficient documentation will result in the return of this wire request to the requestor.'\r\n        },\r\n        headlines: {\r\n          prepared: 'Prepared by',\r\n          debit: 'Debit Account',\r\n          bank: 'Bank Information'\r\n        },\r\n        dateOptions: {\r\n          formatInput: 'MM/dd/yyyy',\r\n          formatFile: 'yyyymmdd',\r\n          showWeeks: false\r\n        },\r\n        extrainfolabels: {\r\n          office: 'Office',\r\n          gl: 'GL #',\r\n          job: 'Job #',\r\n          workCode: 'Work Code',\r\n          amount: 'Amount',\r\n          invoice: 'Invoice #',\r\n          po: 'P.O. (If Applicable)'\r\n        },\r\n        data: {\r\n          usWired: null,\r\n          title: '',\r\n          requestId: {\r\n            label: 'Wire Request #',\r\n            value: ''\r\n          },\r\n          requestDate: {\r\n            label: 'Date of request',\r\n            value: null,\r\n            string: ''\r\n          },\r\n          name: {\r\n            label: 'Name',\r\n            value: ''\r\n          },\r\n          signature: {\r\n            label: 'Signature',\r\n            value: ''\r\n          },\r\n          telephone: {\r\n            label: 'Telephone',\r\n            value: ''\r\n          },\r\n          reasonforPayment: {\r\n            label: 'Reason for payment',\r\n            value: '',\r\n            help: 'Max characters: 256',\r\n            max: 256\r\n          },\r\n          debitBank: {\r\n            label: 'Bank Name',\r\n            value: 'HSBC Bank USA'\r\n          },\r\n          debitCompany: {\r\n            label: 'Company Name',\r\n            value: 'Global Group, Inc'\r\n          },\r\n          debitAccount: {\r\n            label: 'Account Name',\r\n            value: 'Master Account'\r\n          },\r\n          currency: {\r\n            label: 'Currency',\r\n            value: ''\r\n          },\r\n          amount: {\r\n            label: 'Amount',\r\n            value: 0\r\n          },\r\n          amountWords: {\r\n            label: 'Amount in words',\r\n            value: ''\r\n          },\r\n          accountName: {\r\n            label: 'Account Name',\r\n            value: ''\r\n          },\r\n          accountNumber: {\r\n            label: 'Account Number',\r\n            value: ''\r\n          },\r\n          bankName: {\r\n            label: 'Bank Name',\r\n            value: ''\r\n          },\r\n          address: {\r\n            label: 'Address',\r\n            value: ''\r\n          },\r\n          cityAndCountry: {\r\n            label: 'City and Country',\r\n            value: ''\r\n          },\r\n          aba: {\r\n            label: 'ABA #',\r\n            value: ''\r\n          },\r\n          swiftCode: {\r\n            label: 'Swift Code',\r\n            value: ''\r\n          },\r\n          iban: {\r\n            label: 'IBAN',\r\n            value: ''\r\n          },\r\n          otherInformation: {\r\n            label: 'Other Information',\r\n            value: ''\r\n          },\r\n          authOne: {\r\n            label: 'Authorized Signature #1',\r\n            value: null,\r\n            string: ''\r\n          },\r\n          authTwo: {\r\n            label: 'Authorized Signature #2',\r\n            value: null,\r\n            string: ''\r\n          },\r\n          extraInfo: []\r\n        }\r\n      };\r\n      var errorMessages = null;\r\n      var addExtraInfoLine = function () {\r\n        var extraInfo = {\r\n          office : '',\r\n          gl : '',\r\n          job : '',\r\n          workCode : '',\r\n          amount : '',\r\n          invoice : '',\r\n          po : ''\r\n        };\r\n        model.data.extraInfo.push(extraInfo);\r\n      };\r\n      /* Set final values when printing the document */\r\n      var setFinalValues = function () {\r\n        var today = new Date().format(model.dateOptions.formatFile);\r\n        model.file.name = model.data.name.value.replace(/\\s/g, '') + '_' + today + '.pdf';\r\n        // var 'today' reused\r\n        today = model.dateOptions.formatInput.toLowerCase();\r\n        model.data.requestDate.string = model.data.requestDate.value.format(today);\r\n        model.data.authOne.string = model.data.authOne.value.format(today);\r\n        model.data.authTwo.string = model.data.authTwo.value.format(today);\r\n      };\r\n      var validateAmounts = function () {\r\n        var amountSum = 0;\r\n        angular.forEach(model.data.extraInfo, function (info) {\r\n          amountSum = amountSum + info.amount.toNumber();\r\n        });\r\n        if (model.data.amount.value.toNumber() === amountSum) {\r\n          return true;\r\n        }\r\n        errorMessages.push('Please, check Amount column. The sum of this column must be equal to Debit amount field');\r\n        return false;\r\n      };\r\n      var valid = function () {\r\n        setFinalValues();\r\n        errorMessages = [];\r\n        return (validateAmounts()) ? true : false;\r\n      };\r\n      var getErrorMessages = function () {\r\n        return errorMessages;\r\n      };\r\n      var init = function (data) {\r\n        // Set some vars with the info coming from the server\r\n        var now = new Date();\r\n        model.data.requestDate.value = now;\r\n        model.data.authOne.value = now;\r\n        model.data.authTwo.value = now;\r\n        model.data.usWired = data.values.usWired;\r\n        model.data.title = data.values.title;\r\n        model.data.requestId.value = data.values.requestId;\r\n        // Adds at least one row\r\n        addExtraInfoLine();\r\n        return model;\r\n      };\r\n      return {\r\n        init: init,\r\n        valid: valid,\r\n        getErrorMessages: getErrorMessages,\r\n        addExtraInfoLine: addExtraInfoLine\r\n      };\r\n    });\r\n}());","/*global angular,jsPDF*/\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('greyForms.serviceSaveFile', [])\r\n    .factory('saveFile', function () {\r\n      var pdf = null;\r\n      // Letter paper size in points: 612x792\r\n      var page = {\r\n        font: 'helvetica',\r\n        fullWidth: 612,\r\n        fullHeight: 792,\r\n        axisXMin: 40,\r\n        axisXData: 200,\r\n        axisY: 0,\r\n        axisYInitial: 55,\r\n        axisYDefaultHeight: 17,\r\n        axisYNewPage: 40,\r\n        axisYHeight: 0\r\n      };\r\n      var newLine = function () {\r\n        // When reach the end of the page\r\n        if (page.axisY >= page.axisYMax) {\r\n          pdf.addPage();\r\n          // Reset the Y cursor to the beginning of the page\r\n          page.axisY = page.axisYNewPage;\r\n        } else {\r\n          page.axisY = page.axisY + page.axisYHeight;\r\n        }\r\n      };\r\n      var drawLine = function (offsetFix) {\r\n        // This offset is for drawing the line upper if need it\r\n        page.axisY = page.axisY - (offsetFix || 0);\r\n        pdf.setDrawColor(150, 150, 150);\r\n        pdf.line(page.axisXMin, page.axisY, page.axisXMax, page.axisY);\r\n        pdf.setDrawColor(0, 0, 0);\r\n        newLine();\r\n      };\r\n      var dataLine = function (label, text) {\r\n        pdf.setFontSize(8.5);\r\n        pdf.setFontStyle('normal');\r\n        pdf.text(page.axisXMin, page.axisY, label);\r\n        pdf.text(page.axisXData, page.axisY, pdf.splitTextToSize(text, page.axisXMax - page.axisXData));\r\n        newLine();\r\n      };\r\n      var footLine = function (text) {\r\n        pdf.setFontSize(8);\r\n        pdf.setFontStyle('normal');\r\n        pdf.text(page.axisXMin, page.axisY, pdf.splitTextToSize(text, page.contentWidth));\r\n        newLine();\r\n      };\r\n      var headLine = function (label) {\r\n        pdf.setFontSize(11);\r\n        pdf.setFontStyle('bold');\r\n        newLine();\r\n        pdf.text(page.axisXMin, page.axisY, label);\r\n        newLine();\r\n      };\r\n      var drawExtraInfo = function (labels, extraInfo) {\r\n        var width = page.contentWidth / 7;\r\n        pdf.setFontSize(8);\r\n        newLine();\r\n        pdf.text(page.axisXMin, page.axisY, labels.office); // column 1\r\n        pdf.text(page.axisXMin + width, page.axisY, labels.gl); // column 2\r\n        pdf.text(page.axisXMin + (width * 2), page.axisY, labels.job); // column 3\r\n        pdf.text(page.axisXMin + (width * 3), page.axisY, labels.workCode); // column 4\r\n        pdf.text(page.axisXMin + (width * 4), page.axisY, labels.amount); // column 5\r\n        pdf.text(page.axisXMin + (width * 5), page.axisY, labels.invoice); // column 6\r\n        pdf.text(page.axisXMin + (width * 6), page.axisY, labels.po); // column 7\r\n        angular.forEach(extraInfo, function (value) {\r\n          newLine();\r\n          pdf.text(page.axisXMin, page.axisY, pdf.splitTextToSize(value.office, width));\r\n          pdf.text(page.axisXMin + width, page.axisY, pdf.splitTextToSize(value.gl, width));\r\n          pdf.text(page.axisXMin + (width * 2), page.axisY, pdf.splitTextToSize(value.job, width));\r\n          pdf.text(page.axisXMin + (width * 3), page.axisY, pdf.splitTextToSize(value.workCode, width));\r\n          pdf.text(page.axisXMin + (width * 4), page.axisY, pdf.splitTextToSize(value.amount, width));\r\n          pdf.text(page.axisXMin + (width * 5), page.axisY, pdf.splitTextToSize(value.invoice, width));\r\n          pdf.text(page.axisXMin + (width * 6), page.axisY, pdf.splitTextToSize(value.po, width));\r\n        });\r\n        newLine();\r\n      };\r\n      var drawSignatures = function (authOne, authTwo) {\r\n        // A 3-column grid for signatures\r\n        var width = page.contentWidth / 3;\r\n        pdf.setDrawColor(150, 150, 150);\r\n        pdf.line(page.axisXMin, page.axisY, page.axisXMin + width, page.axisY);\r\n        pdf.line(page.axisXMax - width, page.axisY, page.axisXMax, page.axisY);\r\n        pdf.setDrawColor(0, 0, 0);\r\n        newLine();\r\n        // The '44' is an approximate width of a date field\r\n        pdf.text(page.axisXMin, page.axisY, authOne.label);\r\n        pdf.text(page.axisXMin + width - 44, page.axisY, authOne.string);\r\n        pdf.text(page.axisXMax - width, page.axisY, authTwo.label);\r\n        pdf.text(page.axisXMax - 44, page.axisY, authTwo.string);\r\n        newLine();\r\n      };\r\n      var drawFooter = function (foot) {\r\n        // Very fixed drawing\r\n        pdf.setDrawColor(150, 150, 150);\r\n        pdf.text(page.axisXMin, page.axisY, foot.usd);\r\n        pdf.line(page.axisXMin + 50, page.axisY, page.axisXMax, page.axisY);\r\n        newLine();\r\n        pdf.text(page.axisXMin, page.axisY, foot.rate);\r\n        pdf.line(page.axisXMin + 20, page.axisY, page.axisXMin + 110, page.axisY);\r\n        pdf.text(page.axisXMin + 120, page.axisY, foot.date);\r\n        pdf.line(page.axisXMin + 165, page.axisY, page.axisXMax, page.axisY);\r\n        newLine();\r\n        pdf.text(page.axisXMin, page.axisY, foot.tradeId);\r\n        pdf.line(page.axisXMin + 80, page.axisY, page.axisXMax, page.axisY);\r\n        pdf.setDrawColor(0, 0, 0);\r\n        newLine();\r\n      };\r\n      var toPdf = function (model) {\r\n        // shorcut\r\n        var data = model.data;\r\n        pdf = new jsPDF('p', 'pt', 'letter');\r\n        page.contentWidth = page.fullWidth - (2 * page.axisXMin);\r\n        page.axisXMax = page.fullWidth - page.axisXMin;\r\n        page.axisYMax = page.fullHeight - page.axisXMin;\r\n        // Reset the axisY in case of user re-print the doc\r\n        page.axisY = page.axisYInitial;\r\n        page.axisYHeight = page.axisYDefaultHeight;\r\n        // Logo\r\n        pdf.setFont(page.font);\r\n        pdf.addImage(model.logo.datauri, model.logo.datauritype, page.axisXMin, 30, model.logo.width, model.logo.height);\r\n        // Title\r\n        pdf.setFontSize(15);\r\n        pdf.text(120, 48, data.title);\r\n        // Data\r\n        drawLine();\r\n        dataLine(data.requestId.label, data.requestId.value);\r\n        dataLine(data.requestDate.label, data.requestDate.string);\r\n        headLine(model.headlines.prepared);\r\n        dataLine(data.name.label, data.name.value);\r\n        dataLine(data.signature.label, data.signature.value);\r\n        dataLine(data.telephone.label, data.telephone.value);\r\n        dataLine(data.reasonforPayment.label, data.reasonforPayment.value);\r\n        headLine(model.headlines.debit);\r\n        dataLine(data.debitBank.label, data.debitBank.value);\r\n        dataLine(data.debitCompany.label, data.debitCompany.value);\r\n        dataLine(data.debitAccount.label, data.debitAccount.value);\r\n        dataLine(data.amount.label, data.amount.value);\r\n        if (!data.usWired) {\r\n          dataLine(data.currency.label, data.currency.value);\r\n        }\r\n        dataLine(data.amountWords.label, data.amountWords.value);\r\n        headLine(model.headlines.bank);\r\n        dataLine(data.accountName.label, data.accountName.value);\r\n        dataLine(data.accountNumber.label, data.accountNumber.value);\r\n        dataLine(data.bankName.label, data.bankName.value);\r\n        dataLine(data.address.label, data.address.value);\r\n        dataLine(data.cityAndCountry.label, data.cityAndCountry.value);\r\n        if (data.usWired) {\r\n          dataLine(data.aba.label, data.aba.value);\r\n        }\r\n        dataLine(data.swiftCode.label, data.swiftCode.value);\r\n        dataLine(data.iban.label, data.iban.value);\r\n        dataLine(data.otherInformation.label, data.otherInformation.value);\r\n        drawExtraInfo(model.extrainfolabels, model.data.extraInfo);\r\n        newLine();\r\n        drawSignatures(data.authOne, data.authTwo);\r\n        page.axisYHeight = 15;\r\n        newLine();\r\n        footLine(model.footnotes.below);\r\n        drawLine(7);\r\n        footLine(model.footnotes.trade);\r\n        drawFooter(model.footnotes);\r\n        footLine(model.footnotes.supply);\r\n        pdf.save(model.file.name);\r\n      };\r\n      return {\r\n        toPdf: toPdf\r\n      };\r\n    });\r\n}());","/*\r\n * Date Format 1.2.3\r\n * (c) 2007-2009 Steven Levithan <stevenlevithan.com>\r\n * MIT license\r\n *\r\n * Includes enhancements by Scott Trenda <scott.trenda.net>\r\n * and Kris Kowal <cixar.com/~kris.kowal/>\r\n *\r\n * Accepts a date, a mask, or a date and a mask.\r\n * Returns a formatted version of the given date.\r\n * The date defaults to the current date/time.\r\n * The mask defaults to dateFormat.masks.default.\r\n */\r\n\r\nvar dateFormat = function () {\r\n\tvar\ttoken = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloSZ]|\"[^\"]*\"|'[^']*'/g,\r\n\t\ttimezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g,\r\n\t\ttimezoneClip = /[^-+\\dA-Z]/g,\r\n\t\tpad = function (val, len) {\r\n\t\t\tval = String(val);\r\n\t\t\tlen = len || 2;\r\n\t\t\twhile (val.length < len) val = \"0\" + val;\r\n\t\t\treturn val;\r\n\t\t};\r\n\r\n\t// Regexes and supporting functions are cached through closure\r\n\treturn function (date, mask, utc) {\r\n\t\tvar dF = dateFormat;\r\n\r\n\t\t// You can't provide utc if you skip other args (use the \"UTC:\" mask prefix)\r\n\t\tif (arguments.length == 1 && Object.prototype.toString.call(date) == \"[object String]\" && !/\\d/.test(date)) {\r\n\t\t\tmask = date;\r\n\t\t\tdate = undefined;\r\n\t\t}\r\n\r\n\t\t// Passing date through Date applies Date.parse, if necessary\r\n\t\tdate = date ? new Date(date) : new Date();\r\n\t\tif (isNaN(date)) throw SyntaxError(\"invalid date\");\r\n\r\n\t\tmask = String(dF.masks[mask] || mask || dF.masks[\"default\"]);\r\n\r\n\t\t// Allow setting the utc argument via the mask\r\n\t\tif (mask.slice(0, 4) == \"UTC:\") {\r\n\t\t\tmask = mask.slice(4);\r\n\t\t\tutc = true;\r\n\t\t}\r\n\r\n\t\tvar\t_ = utc ? \"getUTC\" : \"get\",\r\n\t\t\td = date[_ + \"Date\"](),\r\n\t\t\tD = date[_ + \"Day\"](),\r\n\t\t\tm = date[_ + \"Month\"](),\r\n\t\t\ty = date[_ + \"FullYear\"](),\r\n\t\t\tH = date[_ + \"Hours\"](),\r\n\t\t\tM = date[_ + \"Minutes\"](),\r\n\t\t\ts = date[_ + \"Seconds\"](),\r\n\t\t\tL = date[_ + \"Milliseconds\"](),\r\n\t\t\to = utc ? 0 : date.getTimezoneOffset(),\r\n\t\t\tflags = {\r\n\t\t\t\td:    d,\r\n\t\t\t\tdd:   pad(d),\r\n\t\t\t\tddd:  dF.i18n.dayNames[D],\r\n\t\t\t\tdddd: dF.i18n.dayNames[D + 7],\r\n\t\t\t\tm:    m + 1,\r\n\t\t\t\tmm:   pad(m + 1),\r\n\t\t\t\tmmm:  dF.i18n.monthNames[m],\r\n\t\t\t\tmmmm: dF.i18n.monthNames[m + 12],\r\n\t\t\t\tyy:   String(y).slice(2),\r\n\t\t\t\tyyyy: y,\r\n\t\t\t\th:    H % 12 || 12,\r\n\t\t\t\thh:   pad(H % 12 || 12),\r\n\t\t\t\tH:    H,\r\n\t\t\t\tHH:   pad(H),\r\n\t\t\t\tM:    M,\r\n\t\t\t\tMM:   pad(M),\r\n\t\t\t\ts:    s,\r\n\t\t\t\tss:   pad(s),\r\n\t\t\t\tl:    pad(L, 3),\r\n\t\t\t\tL:    pad(L > 99 ? Math.round(L / 10) : L),\r\n\t\t\t\tt:    H < 12 ? \"a\"  : \"p\",\r\n\t\t\t\ttt:   H < 12 ? \"am\" : \"pm\",\r\n\t\t\t\tT:    H < 12 ? \"A\"  : \"P\",\r\n\t\t\t\tTT:   H < 12 ? \"AM\" : \"PM\",\r\n\t\t\t\tZ:    utc ? \"UTC\" : (String(date).match(timezone) || [\"\"]).pop().replace(timezoneClip, \"\"),\r\n\t\t\t\to:    (o > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\r\n\t\t\t\tS:    [\"th\", \"st\", \"nd\", \"rd\"][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10]\r\n\t\t\t};\r\n\r\n\t\treturn mask.replace(token, function ($0) {\r\n\t\t\treturn $0 in flags ? flags[$0] : $0.slice(1, $0.length - 1);\r\n\t\t});\r\n\t};\r\n}();\r\n\r\n// Some common format strings\r\ndateFormat.masks = {\r\n\t\"default\":      \"ddd mmm dd yyyy HH:MM:ss\",\r\n\tshortDate:      \"m/d/yy\",\r\n\tmediumDate:     \"mmm d, yyyy\",\r\n\tlongDate:       \"mmmm d, yyyy\",\r\n\tfullDate:       \"dddd, mmmm d, yyyy\",\r\n\tshortTime:      \"h:MM TT\",\r\n\tmediumTime:     \"h:MM:ss TT\",\r\n\tlongTime:       \"h:MM:ss TT Z\",\r\n\tisoDate:        \"yyyy-mm-dd\",\r\n\tisoTime:        \"HH:MM:ss\",\r\n\tisoDateTime:    \"yyyy-mm-dd'T'HH:MM:ss\",\r\n\tisoUtcDateTime: \"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'\"\r\n};\r\n\r\n// Internationalization strings\r\ndateFormat.i18n = {\r\n\tdayNames: [\r\n\t\t\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\",\r\n\t\t\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"\r\n\t],\r\n\tmonthNames: [\r\n\t\t\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\",\r\n\t\t\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n\t]\r\n};\r\n\r\n// For convenience...\r\nDate.prototype.format = function (mask, utc) {\r\n\treturn dateFormat(this, mask, utc);\r\n};\r\n\r\n","String.prototype.toNumber = function () {\r\n  return parseFloat(this.replace(/,/g, ''));\r\n};"],"sourceRoot":"/source/"}